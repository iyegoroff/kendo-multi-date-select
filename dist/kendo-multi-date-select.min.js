var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__assign=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},kendoExt;!function(e){var t=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.initMultiSelect(t),i.initPopup(t),i.initCalendar(i._popup.element),i.updateDateInterval(),i}return __extends(t,e),t.removeTime=function(e){var t=new Date(e);return t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t},t.isDateGreater=function(e,n){return t.removeTime(e).getTime()>t.removeTime(n).getTime()},t.isDateLesser=function(e,n){return t.removeTime(e).getTime()<t.removeTime(n).getTime()},t.prototype.open=function(){this._popup.open()},t.prototype.close=function(){this._popup.close()},t.prototype.toggle=function(){this._popup.visible()?this.close():this.open()},t.prototype.destroy=function(){this._multiSelect.wrapper.find("input").off("keydown"),this._popup.destroy(),this._multiSelect.destroy(),this._multiCalendar.destroy()},t.prototype.enable=function(e){e||this.close(),this._multiSelect.enable(e)},t.prototype.readonly=function(e){e&&this.close(),this._multiSelect.readonly(e)},t.prototype.max=function(e){return void 0!==e&&(this._multiCalendar.max(e),this.updateDateInterval()),this._multiCalendar.max()},t.prototype.min=function(e){return void 0!==e&&(this._multiCalendar.min(e),this.updateDateInterval()),this._multiCalendar.min()},t.prototype.values=function(e){if(void 0!==e){var n=this.min(),i=this.max(),o=(e||[]).filter(function(e){return!(n&&t.isDateLesser(e,n)||i&&t.isDateGreater(e,i))});this._multiCalendar.values(o),this.updateMultiSelectValues(o),o.length&&this._multiCalendar.navigate(o[o.length-1])}return this._multiSelect.value()},t.prototype.multiSelect=function(){return this._multiSelect},t.prototype.multiCalendar=function(){return this._multiCalendar},t.prototype.initMultiSelect=function(e){var n=this,i=this.options;i.tagTemplate=i.tagTemplate||function(e){return kendo.toString(e,i.format)};var o=function(e){e.preventDefault(),n.open()},a=function(){n._multiCalendar.values(n._multiSelect.value()),n._popup.position(),n.trigger(t.changeEvent)};this._multiSelect=$("<select multiple></select>").appendTo(e).kendoMultiSelect({dataSource:i.values,value:i.values,ignoreCase:!1,enable:i.enable,maxSelectedItems:i.maxSelectedItems,placeholder:i.placeholder,tagTemplate:i.tagTemplate,open:o,change:a}).data("kendoMultiSelect"),this._multiSelect._filterSource=function(){return{}},this._multiSelect.search=function(){return{}},this._multiSelect.wrapper.find("input").on("keydown",function(e){var o=e.keyCode,a=e.target.value;if(o===kendo.keys.ENTER){var l=kendo.parseDate(a,i.format),u=n.values();if(l&&l<=n.max()&&l>=n.min()){var r=u.concat(l);n._multiCalendar.values(r),n.updateMultiSelect(),n._multiCalendar.navigate(l),n.trigger(t.changeEvent)}}})},t.prototype.initPopup=function(e){var n=this,i=function(){return n.trigger(t.openEvent)},o=function(){return n.trigger(t.closeEvent)};this._popup=$('<div class="k-calendar-container"></div>').appendTo(document.body).kendoPopup(__assign({},this.options.popup,{name:"Popup",animation:this.options.animation,anchor:e,open:i,close:o})).data("kendoPopup")},t.prototype.initCalendar=function(e){var n=this,i=this.options,o=function(){n.updateMultiSelect(),n.trigger(t.changeEvent)},a=function(){return n.trigger(t.navigateEvent)};this._multiCalendar=$("<div></div>").appendTo(e).kendoMultiCalendar({values:i.values,footer:i.footer,culture:i.culture,min:i.min,max:i.max,start:i.start,depth:i.depth,month:i.month,dates:i.dates,maxSelectedItems:i.maxSelectedItems,change:o,navigate:a}).data("kendoMultiCalendar"),kendo.calendar.makeUnselectable(this._multiCalendar.element)},t.prototype.updateDateInterval=function(){this.values(this.values())},t.prototype.updateMultiSelectValues=function(e){this._multiSelect.setDataSource(e),this._multiSelect.value(e),this._popup.visible()&&this._popup.position()},t.prototype.updateMultiSelect=function(){this.updateMultiSelectValues(this._multiCalendar.values()),this.options.autoClose&&this.close()},t}(kendo.ui.Widget);t.navigateEvent="navigate",t.changeEvent="change",t.openEvent="open",t.closeEvent="close",e.MultiDateSelect=t,t.fn=t.prototype,t.fn.options=__assign({},kendo.ui.Widget.fn.options,{name:"MultiDateSelect",autoClose:!0,popup:{},animation:{},enable:!0,maxSelectedItems:null,placeholder:"",tagTemplate:"",values:null,footer:"",culture:"",format:"M/d/yyyy",min:new Date(1900,0,1),max:new Date(2099,11,31),start:"month",depth:"month",month:{},dates:[]}),t.fn.events=[t.navigateEvent,t.changeEvent,t.openEvent,t.closeEvent],kendo.ui.plugin(t)}(kendoExt||(kendoExt={}));